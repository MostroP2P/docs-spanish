# Privacidad en Mostro

## Privacidad en la comunicación del usuario con Mostro
La comunicación entre Mostrod y los usuarios se realiza través de los [clientes de Mostro](./clients.md) mediante eventos [NIP-59](https://github.com/nostr-protocol/nips/blob/master/59.md). Dentro de estos eventos están encriptados con una clave efímera el contenido y la clave pública del emisor, lo que evita que se revele públicamente la identidad de quien interactúa con Mostro. Para aumentar la privacidad, los clientes de Mostro generan automáticamente una nueva clave privada para cada orden que tomen o creen. Así, cuando Mostro envíe eventos NIP-59 a los usuarios, el evento generado mostrará una clave pública que será usada únicamente para esa operación, garantizando una nueva `"identidad"` para cada intercambio e impidiendo que las transacciones de compra y venta puedan ser asociadas a una sola persona.

Los clientes de Mostro no compartirán las claves privadas de los usuarios con una instancia de Mostro, y por consiguiente con su administrador, en ningún caso.

### Modo de reputación

Mostro ofrece a los usuarios la opción de operar en un `modo de reputación`. En este modo, los usuarios se identifican ante la instancia de Mostro que estén utilizando con una clave pública fija que actúa como un identificador principal y permite a dicha instancia asociar una [reputación](./reputation.md) a ese usuario basada en las calificaciones que reciba de sus contrapartes tras completar operaciones. Aunque esta clave pública es conocida por dicha instancia de Mostro, no se comparte con otros usuarios ni se expone públicamente, preservando así la privacidad del individuo. En este modo, cada nueva orden sigue utilizando claves efímeras, protegiendo los detalles de cada intercambio ante un tercero.

### Modo de privacidad completa

Para aquellos usuarios que priorizan la privacidad por encima de todo, Mostro ofrece el "modo de privacidad completa". En este modo, los usuarios no envían ninguna clave identificadora fija a la instancia de Mostro que usen. En su lugar, cada operación utiliza exclusivamente claves efímeras generadas para ese intercambio específico. Esto significa que dicho Mostro no tiene forma de vincular las órdenes de un mismo usuario entre sí, ofreciendo un nivel máximo de anonimato. De esta forma ni siquiera una instancia de Mostro puede saber qué operaciones pertenecen a una misma persona.

Como en el "modo de privacidad completa", no existe una clave fija asociada al usuario, no es posible construir o mantener una reputación. Cuando alguien en este modo cree una nueva orden, su reputación aparecerá en 0, tal como si fuera un usuario nuevo. Sin embargo, para quienes valoran la privacidad absoluta por encima de la confianza basada en calificaciones, este modo es ideal.

## Privacidad en la comunicación entre usuarios
La comunicación entre el comprador y el vendedor durante una operación se realiza directamente de cliente a cliente a través de un chat cifrado de extremo a extremo, integrado en los clientes de Mostro. Este sistema utiliza una versión simplificada de NIP-59 para ocultar los metadatos de ambas partes a observadores externos, y los mensajes se dirigen a una clave pública compartida única, generada mediante criptografía avanzada ([Elliptic Curve Diffie-Hellman o ECDH](https://mostro.network/protocol/chat.html#shared-key)). Esta "clave maestra compartida" es conocida solo por el comprador y el vendedor, y asegura que ni la instancia de Mostro en la que están haciendo el intercambio, ni terceros puedan acceder al contenido de la conversación. Además, como cada operación genera claves nuevas y únicas, la privacidad se mantiene intacta incluso entre transacciones con la misma contraparte.

En caso de [disputa](./disputes.md), esta clave compartida ofrece una solución efectiva: cualquiera de las partes puede optar por compartirla voluntariamente con el mediador designado. Con ella, el mediador puede descifrar únicamente la conversación de esa operación específica, accediendo a una copia inmutable de los mensajes, que no puede ser alterada ni borrada. Esto permite resolver disputas de manera justa y transparente, exponiendo cualquier intento de engaño sin comprometer la privacidad por defecto de los usuarios y solo revelando la información cuando sea necesario y consentido.
